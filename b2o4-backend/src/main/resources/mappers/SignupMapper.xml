<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="b2o4.mapper.SignupMapper">

    <!-- 모든 사용자 조회 -->
    <select id="findAll" resultType="Signup">
        SELECT * FROM user
    </select>

    <!-- 새로운 사용자 등록 -->
    <!-- 
        useGeneratedKeys="true" - 데이터베이스에서 auto_increment가 설정되어 있을 때 키 값을 자동으로 설정합니다.
        keyProperty="id" - 자동 증가의 기준이 되는 키 컬럼을 지정합니다.
    -->
    <insert id="insertSignup" parameterType="Signup" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO User(
            memberId, memberPw, memberEmail, memberName, memberBirth, 
            memberPhone, memberAddress, memberProfile
        )
        VALUES (
            #{memberId}, #{memberPw}, #{memberEmail}, #{memberName}, 
            #{memberBirth}, #{memberPhone}, #{memberAddress}, #{memberProfile}
        )
    </insert>
	<select id="idCheck">
	SELECT COUNT(*) FROM TODO_MEMBER WHERE ID = #{memberId}
	</select>
</mapper>
